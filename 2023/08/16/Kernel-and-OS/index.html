<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
<meta name="referrer" content="no-referrer">
  <link rel="apple-touch-icon" sizes="180x180" href="/zyhjy/images/relativity128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/zyhjy/images/relativity32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/zyhjy/images/relativity16.png">
  <link rel="mask-icon" href="/zyhjy/images/logo.svg" color="#222">

<link rel="stylesheet" href="/zyhjy/css/main.css">

<link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css?family=Comic Sans MS:300,300italic,400,400italic,700,700italic|Noto Serif SC:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/zyhjy/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/zyhjy/lib/pace/pace-theme-minimal.min.css">
  <script src="/zyhjy/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"eric-zhang-c.github.io","root":"/zyhjy/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="OS(Operating System) An operating system (OS) is system software that manages computer hardware and software resources, and provides common services for computer programs.">
<meta property="og:type" content="article">
<meta property="og:title" content="Kernel and OS">
<meta property="og:url" content="https://eric-zhang-c.github.io/zyhjy/2023/08/16/Kernel-and-OS/">
<meta property="og:site_name" content="ZYHJY">
<meta property="og:description" content="OS(Operating System) An operating system (OS) is system software that manages computer hardware and software resources, and provides common services for computer programs.">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-08-16T13:50:03.000Z">
<meta property="article:modified_time" content="2023-08-18T12:51:32.131Z">
<meta property="article:author" content="Yuhang Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://eric-zhang-c.github.io/zyhjy/2023/08/16/Kernel-and-OS/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Kernel and OS | ZYHJY</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J17VP3T2B4"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-J17VP3T2B4');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/zyhjy/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ZYHJY</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/zyhjy/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/zyhjy/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/zyhjy/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/zyhjy/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/zyhjy/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-solutions">

    <a href="/zyhjy/solutions/" rel="section"><i class="fa fa-code fa-fw"></i>ç®—æ³•é¢˜è§£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://eric-zhang-c.github.io/zyhjy/2023/08/16/Kernel-and-OS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/zyhjy/images/zyhjy.png">
      <meta itemprop="name" content="Yuhang Zhang">
      <meta itemprop="description" content="çˆ±å°é›…ï¼Œçˆ±ç”Ÿæ´»ï¼Œçˆ±ç‰©ç†!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZYHJY">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Kernel and OS
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-08-16 21:50:03" itemprop="dateCreated datePublished" datetime="2023-08-16T21:50:03+08:00">2023-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-18 20:51:32" itemprop="dateModified" datetime="2023-08-18T20:51:32+08:00">2023-08-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/zyhjy/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/zyhjy/categories/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">ä½“ç³»ç»“æ„</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/zyhjy/categories/OS/kernel/" itemprop="url" rel="index"><span itemprop="name">kernel</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>7.2k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>12 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="osoperating-system">OS(Operating System)</h2>
<p>An <strong>operating system</strong> (<strong>OS</strong>) is system
software that manages computer hardware and software resources, and
provides common services for computer programs.</p>
<span id="more"></span>
<h3 id="component">component</h3>
<p>é™¤äº†æ“ä½œç³»ç»Ÿçš„å†…æ ¸å¤–ï¼Œæ“ä½œç³»ç»Ÿé€šå¸¸è¿˜åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„ç»„ä»¶å’Œå±‚çº§ï¼š</p>
<ol type="1">
<li><strong>Shellï¼ˆå¤–å£³ï¼‰ï¼š</strong>
Shellæ˜¯ç”¨æˆ·ä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’çš„æ¥å£ã€‚å®ƒå¯ä»¥æ˜¯å‘½ä»¤è¡Œç•Œé¢ï¼ˆCommand Line
Interfaceï¼ŒCLIï¼‰æˆ–å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGraphical User
Interfaceï¼ŒGUIï¼‰ã€‚CLIæä¾›äº†å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥å‘½ä»¤æ¥æ‰§è¡Œå„ç§æ“ä½œï¼Œè€ŒGUIåˆ™é€šè¿‡å›¾å½¢å…ƒç´ å’Œçª—å£æ¥å®ç°ç”¨æˆ·ç•Œé¢ã€‚</li>
<li><strong>ç³»ç»Ÿåº“ï¼ˆSystem Librariesï¼‰ï¼š</strong>
ç³»ç»Ÿåº“æ˜¯ä¸€ç»„ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨çš„é¢„ç¼–å†™çš„åŠŸèƒ½å’Œä¾‹ç¨‹ã€‚è¿™äº›åº“æä¾›äº†è®¿é—®æ“ä½œç³»ç»ŸåŠŸèƒ½çš„æ–¹æ³•ï¼Œä¾‹å¦‚æ–‡ä»¶æ“ä½œã€ç½‘ç»œé€šä¿¡ç­‰ã€‚å®ƒä»¬å¸®åŠ©å¼€å‘äººå‘˜é¿å…ä»å¤´å¼€å§‹ç¼–å†™æ‰€æœ‰å¿…è¦çš„ä»£ç ã€‚</li>
<li><strong>ç”¨æˆ·ç•Œé¢ç®¡ç†å™¨ï¼ˆUser Interface Managerï¼‰ï¼š</strong>
å¯¹äºå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ï¼Œç”¨æˆ·ç•Œé¢ç®¡ç†å™¨è´Ÿè´£æ˜¾ç¤ºå›¾å½¢å…ƒç´ ï¼Œå¦‚çª—å£ã€èœå•å’ŒæŒ‰é’®ï¼Œå¹¶æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™æ“ä½œç³»ç»Ÿã€‚</li>
<li><strong>ç³»ç»Ÿå·¥å…·å’Œå®ç”¨ç¨‹åºï¼ˆSystem Utilitiesï¼‰ï¼š</strong>
è¿™äº›å·¥å…·å’Œå®ç”¨ç¨‹åºä¸ºç”¨æˆ·æä¾›äº†æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„æ–¹æ³•ï¼Œå¦‚æ–‡ä»¶ç®¡ç†ã€ç£ç›˜ç»´æŠ¤ã€å®‰å…¨æ€§è®¾ç½®ç­‰ã€‚å¸¸è§çš„ç³»ç»Ÿå·¥å…·åŒ…æ‹¬æ–‡ä»¶ç®¡ç†å™¨ã€ç£ç›˜æ¸…ç†å·¥å…·ã€ä»»åŠ¡ç®¡ç†å™¨ç­‰ã€‚</li>
</ol>
<h2 id="kernel">kernel</h2>
<p>At the core of the operating system is the kernel, which manages and
controls the hardware resources like I/O (networking, storage, graphics
and various user interface devices, etc.), memory and CPU for your
device or computer.</p>
<p>It is one of the first software programs a booting device loads and
runs on the central processing unit (CPU).</p>
<p>It is the part of Operating System which converts user commands into
machine language.</p>
<p>It resides in the main memory.</p>
<figure>
<img
src="https://gitee.com/zyh-eric/mypics/raw/master/img/image-20230818175412579.png"
alt="image-20230818175412579" />
<figcaption aria-hidden="true">image-20230818175412579</figcaption>
</figure>
<h3 id="what-the-kernel-does">What the kernel does</h3>
<ol type="1">
<li><strong>ç³»ç»Ÿèµ„æºç®¡ç†ï¼š</strong>
Linuxå†…æ ¸è´Ÿè´£ç®¡ç†è®¡ç®—æœºçš„å„ç§ç¡¬ä»¶èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜ã€å¤„ç†å™¨ã€ç¡¬ç›˜å’Œå…¶ä»–å¤–éƒ¨è®¾å¤‡ã€‚å®ƒé€šè¿‡è°ƒåº¦ç®—æ³•æ¥åˆ†é…å¤„ç†å™¨æ—¶é—´å’Œå†…å­˜ç©ºé—´ï¼Œä»¥ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡ã€‚</li>
<li><strong>è®¾å¤‡é©±åŠ¨ç¨‹åºï¼š</strong>
å†…æ ¸æä¾›äº†ç”¨äºä¸è®¡ç®—æœºç¡¬ä»¶é€šä¿¡çš„è®¾å¤‡é©±åŠ¨ç¨‹åºã€‚è¿™äº›é©±åŠ¨ç¨‹åºä½¿æ“ä½œç³»ç»Ÿèƒ½å¤Ÿä¸å„ç§ç¡¬ä»¶è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œå¦‚æ˜¾ç¤ºå™¨ã€é”®ç›˜ã€é¼ æ ‡ã€ç½‘ç»œé€‚é…å™¨ç­‰ã€‚</li>
<li><strong>æ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼š</strong>
Linuxå†…æ ¸æ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚EXT4ã€Btrfsã€XFSç­‰ï¼Œå®ƒè´Ÿè´£ç®¡ç†æ–‡ä»¶å’Œç›®å½•çš„å­˜å‚¨ã€è®¿é—®å’Œç»´æŠ¤ã€‚è¿™ä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿåœ¨ä¸åŒçš„å­˜å‚¨è®¾å¤‡ä¸Šåˆ›å»ºã€è¯»å–å’Œå†™å…¥æ–‡ä»¶ã€‚</li>
<li><strong>è¿›ç¨‹ç®¡ç†ï¼š</strong>
å†…æ ¸ç®¡ç†ç³»ç»Ÿä¸­è¿è¡Œçš„è¿›ç¨‹ï¼ˆåº”ç”¨ç¨‹åºçš„æ‰§è¡Œå®ä¾‹ï¼‰ã€‚å®ƒè´Ÿè´£è¿›ç¨‹çš„åˆ›å»ºã€è°ƒåº¦ã€ç»ˆæ­¢ä»¥åŠè¿›ç¨‹é—´çš„é€šä¿¡å’ŒåŒæ­¥ã€‚</li>
<li><strong>ç³»ç»Ÿè°ƒç”¨ï¼š</strong>
å†…æ ¸æä¾›äº†ä¸€ç»„ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™äº›è°ƒç”¨å…è®¸åº”ç”¨ç¨‹åºä¸å†…æ ¸äº¤äº’ï¼Œè¯·æ±‚æ“ä½œç³»ç»Ÿæä¾›æœåŠ¡ï¼Œå¦‚æ–‡ä»¶è®¿é—®ã€ç½‘ç»œé€šä¿¡ç­‰ã€‚</li>
<li><strong>å†…å­˜ç®¡ç†ï¼š</strong>
å†…æ ¸ç®¡ç†ç³»ç»Ÿçš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼Œç¡®ä¿ä¸åŒè¿›ç¨‹ä¹‹é—´ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚å®ƒé€šè¿‡è™šæ‹Ÿå†…å­˜ç®¡ç†æ¥å®ç°æ›´é«˜æ•ˆçš„å†…å­˜ä½¿ç”¨å’Œä¿æŠ¤ã€‚</li>
<li><strong>ç½‘ç»œé€šä¿¡ï¼š</strong>
å†…æ ¸ç®¡ç†è®¡ç®—æœºçš„ç½‘ç»œé€šä¿¡ï¼ŒåŒ…æ‹¬å¤„ç†ç½‘ç»œåè®®ã€æ•°æ®åŒ…çš„è·¯ç”±å’Œä¼ è¾“ï¼Œä»¥åŠç½‘ç»œè®¾å¤‡çš„é…ç½®å’Œç®¡ç†ã€‚</li>
<li><strong>å®‰å…¨å’Œæƒé™ï¼š</strong>
å†…æ ¸å®æ–½è®¿é—®æ§åˆ¶å’Œæƒé™ç®¡ç†ï¼Œç¡®ä¿ä¸åŒç”¨æˆ·å’Œè¿›ç¨‹ä¹‹é—´çš„éš”ç¦»ï¼Œé˜²æ­¢æœªç»æˆæƒçš„è®¿é—®å’Œæ“ä½œã€‚</li>
<li><strong>ä¸­æ–­å¤„ç†ï¼š</strong>
å†…æ ¸è´Ÿè´£å¤„ç†ç¡¬ä»¶ä¸­æ–­ï¼Œè¿™äº›ä¸­æ–­å¯ä»¥æ˜¯æ¥è‡ªè®¾å¤‡çš„ä¿¡å·ï¼Œéœ€è¦ç«‹å³å¤„ç†ä»¥å“åº”ç¡¬ä»¶äº‹ä»¶ã€‚</li>
<li><strong>èƒ½æºç®¡ç†ï¼š</strong>
å†…æ ¸æ”¯æŒèƒ½æºç®¡ç†åŠŸèƒ½ï¼Œå¦‚ç”µæºç®¡ç†å’ŒCPUé¢‘ç‡è°ƒæ•´ï¼Œä»¥é™ä½ç³»ç»Ÿçš„èƒ½è€—ã€‚</li>
</ol>
<h3 id="load-a-kernel-image">load a kernel image</h3>
<p>To "load" them means copying them from the boot medium (harddisk, CD,
USB stick, ...) to system RAM(Random Access Memory).</p>
<p>The CPU can only receive instructions directly from either the BIOS
or the RAM; in order to run a program stored on the hard disk, there
needs to be a program that is already accessible that will make the
other program accessible.</p>
<p>At system start, there is only the BIOS, which knows how to test the
RAM for defects and read data from the hard disk. The BIOS loads the
bootloader, which is placed so that it can be found easily (either at
the beginning of the disk, or in a special partition).</p>
<p>The bootloader is an intermediate program that basically just
performs the same function as the BIOS -- it loads the next program.
Unlike the BIOS, it is specifically made to load Linux, so it knows how
to read the <a
target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Executable_and_Linkable_Format">Executable
and Linking Format</a> (which is used for programs under Linux), and it
knows that it should also read the initrd file into memory and pass the
address where its contents can be found to the Linux kernel.</p>
<p>The kernel itself can typically be found in the <code>/boot</code>
directory, with a name of <code>vmlinuz-</code> followed by a version
number, and at the moment you can execute commands, a copy of it is
somewhere in system memory; the exact address is unpredictable.</p>
<h2 id="image">image</h2>
<h3 id="kernel-image">kernel image</h3>
<p>å†…æ ¸é•œåƒï¼ˆKernel
Imageï¼‰æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†æ“ä½œç³»ç»Ÿå†…æ ¸çš„ä»£ç å’Œæ•°æ®ï¼Œä»¥åŠå¯åŠ¨æ“ä½œç³»ç»Ÿæ‰€éœ€çš„ä¿¡æ¯ã€‚å†…æ ¸é•œåƒæ˜¯æ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶åŠ è½½åˆ°è®¡ç®—æœºå†…å­˜ä¸­çš„éƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£åˆå§‹åŒ–ç³»ç»Ÿçš„å„ä¸ªéƒ¨åˆ†ï¼Œç®¡ç†ç¡¬ä»¶èµ„æºï¼Œä»¥åŠå¯åŠ¨å…¶ä»–ç³»ç»Ÿç»„ä»¶ã€‚</p>
<p>åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ï¼Œè®¡ç®—æœºä¼šé¦–å…ˆåŠ è½½å†…æ ¸é•œåƒåˆ°å†…å­˜ä¸­ï¼Œç„¶åå°†æ§åˆ¶æƒäº¤ç»™å†…æ ¸ï¼Œä½¿å…¶å¼€å§‹æ‰§è¡Œã€‚å†…æ ¸é•œåƒè´Ÿè´£åˆå§‹åŒ–å¤„ç†å™¨ã€å†…å­˜ç®¡ç†ã€è®¾å¤‡é©±åŠ¨ç¨‹åºåŠ è½½ã€æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç­‰å…³é”®æ“ä½œï¼Œä»è€Œå»ºç«‹ä¸€ä¸ªèƒ½å¤Ÿè¿è¡Œç”¨æˆ·ç¨‹åºçš„ç¯å¢ƒã€‚</p>
<h3 id="disk-image">disk image</h3>
<p>ç£ç›˜é•œåƒï¼ˆDisk
Imageï¼‰æ˜¯è®¡ç®—æœºä¸­å­˜å‚¨åœ¨ç¡¬ç›˜æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸Šçš„å®Œæ•´æ‹·è´æˆ–å¿«ç…§ã€‚å®ƒåŒ…å«äº†æºç£ç›˜ä¸Šçš„æ‰€æœ‰æ•°æ®ã€æ–‡ä»¶ã€æ–‡ä»¶ç³»ç»Ÿç»“æ„å’Œåˆ†åŒºä¿¡æ¯ï¼Œä»¥åŠå¯èƒ½çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚ç£ç›˜é•œåƒå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç£ç›˜å‰¯æœ¬ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶è¢«è¿˜åŸåˆ°ç¡¬ä»¶è®¾å¤‡ä¸Šï¼Œæ¢å¤åŸå§‹çŠ¶æ€ã€‚</p>
<p>ç£ç›˜é•œåƒé€šå¸¸ç”¨äºæ•°æ®å¤‡ä»½ã€æ¢å¤ã€ç³»ç»Ÿéƒ¨ç½²å’Œè™šæ‹ŸåŒ–ç­‰åœºæ™¯ã€‚å®ƒå¯ä»¥ç”¨äºåˆ›å»ºç³»ç»Ÿå¤‡ä»½ï¼Œä»¥ä¾¿åœ¨æ•°æ®ä¸¢å¤±æˆ–ç¡¬ä»¶æ•…éšœæ—¶è¿›è¡Œæ¢å¤ã€‚åœ¨è½¯ä»¶å¼€å‘å’Œæµ‹è¯•ä¸­ï¼Œç£ç›˜é•œåƒå¯ä»¥ç”¨äºåœ¨ä¸åŒç¯å¢ƒä¸­å¤åˆ¶ç›¸åŒçš„ç³»ç»Ÿé…ç½®å’Œæ•°æ®ï¼Œä»¥ç¡®ä¿ä¸€è‡´æ€§ã€‚è™šæ‹ŸåŒ–æŠ€æœ¯ä¹Ÿç»å¸¸ä½¿ç”¨ç£ç›˜é•œåƒæ¥åˆ›å»ºè™šæ‹Ÿæœºï¼Œä»¥æ¨¡æ‹Ÿä¸åŒçš„æ“ä½œç³»ç»Ÿç¯å¢ƒã€‚</p>
<h3 id="docker-image">docker image</h3>
<p>A Docker image is a lightweight, standalone, and executable software
package that contains all the necessary components to run a piece of
software. It includes the application code, runtime, system tools,
libraries, and settings required for the software to run consistently
across different environments.</p>
<p>Docker images do not include an entire operating system. Instead,
they leverage the host system's operating system, isolating only the
necessary components required for the application to run.</p>
<h2 id="kernelä¸osçš„å…³ç³»">kernelä¸OSçš„å…³ç³»</h2>
<p>At the <strong>core</strong> of operating system is the kernel.</p>
<p>Every operating system has a kernel.</p>
<h3
id="difference-between-operating-system-and-kernel"><strong>Difference
between Operating System and Kernel:</strong></h3>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Operating System</th>
<th style="text-align: center;">Kernel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Operating System is a <a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/system-software/">system
software</a>.</td>
<td style="text-align: center;">Kernel is system software which is part
of operating system.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Operating System provides interface
between user and hardware.</td>
<td style="text-align: center;">Kernel provides interface between
applications and hardware.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">It also provides protection and
security.</td>
<td style="text-align: center;">Itâ€™s main purpose is memory management,
disk management, process management and task management.</td>
</tr>
<tr class="even">
<td style="text-align: center;">An operating system is a complete
software package that includes a kernel and other system-level
components such as device drivers, system libraries, and utilities.</td>
<td style="text-align: center;">The kernel, on the other hand, is the
core of the operating system that manages system resources, such as the
CPU, memory, and I/O devices.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">the operating system provides a
higher-level interface to the user, such as the GUI, command-line
interface, and file system.</td>
<td style="text-align: center;">The kernel provides low-level services,
such as memory management, process management, and device management, to
other parts of the operating system</td>
</tr>
<tr class="even">
<td style="text-align: center;">the operating system is a more complex
system that includes a large number of components.</td>
<td style="text-align: center;">The kernel is a relatively small and
simple component of the operating system,</td>
</tr>
<tr class="odd">
<td style="text-align: center;">the operating system provides a more
general-purpose interface that can be used on a wide range of hardware
platforms.</td>
<td style="text-align: center;">The kernel is often customized for
specific hardware platforms or applications,</td>
</tr>
<tr class="even">
<td style="text-align: center;">The operating system is designed to be
portable across different hardware platforms,</td>
<td style="text-align: center;">the kernel is often
platform-specific.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">All system needs operating system to
run.</td>
<td style="text-align: center;">All operating systems need kernel to
run.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Type of operating system includes single
and multiuser OS, <a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/introduction-of-multiprocessor-and-multicomputer/">multiprocessor
OS</a>, <a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/real-time-operating-system-rtos/">Realtime
OS</a>, <a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/features-of-distributed-operating-system/">Distributed
OS</a>.</td>
<td style="text-align: center;">Type of kernel includes <a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/monolithic-architecture/">Monolithic</a>and
<a
target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/microkernel-in-operating-systems/">Micro
kernel</a>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">It is the first program to load when
computer boots up.</td>
<td style="text-align: center;">It is the first program to load when
operating system loads.</td>
</tr>
</tbody>
</table>
<h3 id="linux-kernelä¸ubuntuçš„å…³ç³»">linux kernelä¸ubuntuçš„å…³ç³»</h3>
<p>Linux is a <em>kernel</em>, and Ubuntu is a "<em>Linux
distribution</em>".</p>
<p>Ubuntu
OSï¼Œä»¥Linuxå†…æ ¸ä¸ºåŸºç¡€ï¼Œè¿˜åŒ…æ‹¬å…¶ä»–é™„åŠ è½¯ä»¶ï¼Œå¦‚å›¾å½¢ç”¨æˆ·ç•Œé¢å’Œç”¨æˆ·å‹å¥½çš„å®ç”¨å·¥å…·ã€‚</p>
<p>æ¯ä¸ªubuntuå‘è¡Œç‰ˆéƒ½æœ‰å¯¹åº”çš„ubuntu kernelç‰ˆæœ¬èŒƒå›´å¯ä¾›é€‰æ‹©ã€‚ubuntu
kernelæ˜¯åœ¨æŸä¸ªç‰ˆæœ¬çš„linux kernelä¸Šæ¼”åŒ–æ›´æ–°è€Œæ¥çš„ã€‚</p>
<h4 id="ubuntu-kernel">ubuntu kernel</h4>
<p>The Ubuntu kernel is maintained by Canonical. It's built on the
Debian kernel, which is itself a distribution of the Linux kernel.</p>
<h4 id="mac-kernel">mac kernel</h4>
<p>the <em>Mac OS X</em> kernel - <em>XNU</em> - actually shares a lot
of qualities with Linux, kernel-wise, as Linux is based on
<em>UNIX</em>, and so is <em>XNU</em>.</p>
<h3 id="æŸ¥çœ‹kernelä¿¡æ¯">æŸ¥çœ‹kernelä¿¡æ¯</h3>
<p>é€šè¿‡<code>uname -v</code>å‘½ä»¤ï¼Œä¾‹å¦‚macOSä¸‹çš„ç»“æœä¸º<code>Darwin Kernel Version 19.6.0: Tue Jun 21 21:18:39 PDT 2022; root:xnu-6153.141.66~1/RELEASE_X86_64</code>.</p>
<h2 id="mmu">MMU</h2>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Memory_management_unit">The
MMU (memory management unit)</a> is a physical component of the computer
system, typically part of the CPU (but not necessarily). It translates
virtual addresses (also known as linear addresses in the x86 world) to
physical addresses; it can also enforce memory access control, cache
control, and bus arbitration. It doesnâ€™t usually have its own memory, it
relies on data in the systemâ€™s main memory to operate.</p>
<p>The MMU performs this translation by using information stored in data
structures such as page tables; these specify which physical address
ranges correspond to linear address ranges (if any â€” a page can be â€œnot
presentâ€). <strong>The page tables are set up by the kernel, and the
kernel determines what the mappings should be â€” so the ultimate
authority on physical addresses is the kernel, however it always
operates with the help of the MMU.</strong> Put another way, the CPU
always operates on linear addresses, which are translated to physical
addresses by the MMU, but the kernel is aware of the translations and
programs the MMU to perform them.</p>
<p>User-space processes are oblivious to all this and arenâ€™t (normally)
aware of the physical addresses corresponding to the linear addresses
they use, and typically canâ€™t access the mappings either. There are some
cases where physical mappings leak, but those are usually considered to
be security vulnerabilities and quickly addressed. However, in Linux,
processes with sufficient privileges can see their physical map in
<code>/proc/&lt;pid&gt;/pagemap</code>.</p>
<p>For Linux specifically, see <a
target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/admin-guide/mm/index.html">the
memory management documentation</a>, and in particular <a
target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/admin-guide/mm/pagemap.html">the
section on examining page tables</a>.</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Yuhang Zhang
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://eric-zhang-c.github.io/zyhjy/2023/08/16/Kernel-and-OS/" title="Kernel and OS">https://eric-zhang-c.github.io/zyhjy/2023/08/16/Kernel-and-OS/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/zyhjy/2023/08/05/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7-Valgrind-perf-pin/" rel="prev" title="æ€§èƒ½åˆ†æå·¥å…·--Valgrind, perf, pin">
      <i class="fa fa-chevron-left"></i> æ€§èƒ½åˆ†æå·¥å…·--Valgrind, perf, pin
    </a></div>
      <div class="post-nav-item">
    <a href="/zyhjy/2023/08/16/FS-Full-System-Emulation/" rel="next" title="gem5 Full System Simulation">
      gem5 Full System Simulation <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <style>
        #taboola-livere { display: none;}
    </style>
    <div id="lv-container" data-id="city" data-uid="MTAyMC81ODg3Ni8zNTMzOA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#osoperating-system"><span class="nav-text">OS(Operating System)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#component"><span class="nav-text">component</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kernel"><span class="nav-text">kernel</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#what-the-kernel-does"><span class="nav-text">What the kernel does</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#load-a-kernel-image"><span class="nav-text">load a kernel image</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#image"><span class="nav-text">image</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#kernel-image"><span class="nav-text">kernel image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#disk-image"><span class="nav-text">disk image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-image"><span class="nav-text">docker image</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kernel%E4%B8%8Eos%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">kernelä¸OSçš„å…³ç³»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#difference-between-operating-system-and-kernel"><span class="nav-text">Difference
between Operating System and Kernel:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux-kernel%E4%B8%8Eubuntu%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">linux kernelä¸ubuntuçš„å…³ç³»</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ubuntu-kernel"><span class="nav-text">ubuntu kernel</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mac-kernel"><span class="nav-text">mac kernel</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bkernel%E4%BF%A1%E6%81%AF"><span class="nav-text">æŸ¥çœ‹kernelä¿¡æ¯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mmu"><span class="nav-text">MMU</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yuhang Zhang"
      src="/zyhjy/images/zyhjy.png">
  <p class="site-author-name" itemprop="name">Yuhang Zhang</p>
  <div class="site-description" itemprop="description">çˆ±å°é›…ï¼Œçˆ±ç”Ÿæ´»ï¼Œçˆ±ç‰©ç†!</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/zyhjy/archives/">
        
          <span class="site-state-item-count">85</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/zyhjy/categories/">
          
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/zyhjy/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/zyhjy/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022 â€“ 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yuhang Zhang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">469k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">13:01</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/zyhjy/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>

<script src="/zyhjy/js/utils.js"></script>


<script src="/zyhjy/js/schemes/pisces.js"></script>


<script src="/zyhjy/js/next-boot.js"></script>




  




  
<script src="/zyhjy/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>
